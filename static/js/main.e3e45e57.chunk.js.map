{"version":3,"sources":["Home.js","components/AlbumPicker.js","components/Header.js","components/Results.js","components/Search.js","utils/prioritizer.js","components/Ranker.js","index.js","Base.js","images/logo.svg","images/down.svg","images/magnify.svg"],"names":["axios","defaults","baseURL","screens","Content","styled","div","Home","useState","setToken","userToken","setUserToken","selectedItem","setSelectedItem","albums","setAlbums","songs","setSongs","selectedAlbums","setSelectedAlbums","defaultValue","key","React","stickyValue","window","localStorage","getItem","JSON","parse","value","setValue","useEffect","setItem","stringify","useStickyState","rankedList","setRankedList","length","screen","setScreen","config","headers","Authorization","Buffer","process","toString","post","then","response","data","token","access_token","common","catch","error","console","log","restart","location","reload","WarningText","Text","props","theme","lightBlue","Container","ResultImage","img","WhiteCircle","span","ResultItem","selected","darkestGray","background","FixedButtonContainer","AlbumPicker","get","id","result","items","map","a","idx","onClick","prevState","newState","some","n","splice","indexOf","push","toggleSelected","includes","images","src","url","name","style","position","bottom","left","width","transform","maxWidth","Logo","require","FixedHeader","Header","alt","scopes","hash","substring","split","reduce","initial","item","parts","decodeURIComponent","ResultItemContainer","RankText","p","TitleText","ArtistText","LoginContainer","InstructionText","HeadingContainer","StartOverButton","SecondaryButton","Results","playlistUrl","setPlaylistUrl","_token","href","userSpotifyId","external_urls","spotify","playlistId","uris","s","uri","err","join","margin","song","image_url","artists","timerId","DownIcon","MagnifyingGlassIcon","searchTypes","SearchContainer","SearchBarContainer","SearchBar","input","Magnify","Dropdown","Down","DropdownOptions","DropdownOption","primary","type","Search","searchType","setSearchType","showDropdown","setShowDropdown","searchText","setSearchText","searchResults","setSearchResults","getSearchResults","debounceFunction","func","delay","clearTimeout","setTimeout","ev","prev","stopPropagation","toggleShowDropdown","charAt","toUpperCase","slice","onChange","target","Prioritizer","update","this","ranked","current","middle","min","max","done","Math","floor","index","insertItem","promptUser","setMiddle","Heading","OrText","AlbumArtwork","Options","Option","Ranker","leftOption","useRef","rightOption","prioritizer","setPrioritizer","forceUpdate","albumIds","forEach","songList","album","tracks","i","shuffledSongList","sort","random","b","pointerEvents","list","r","leftSong","rightSong","ref","onClickCurrent","onClickMiddle","ReactDOM","render","StrictMode","gray100","gray200","spotifyGreen","document","getElementById","PrimaryButton","button","block","SpotifyButton","Subheader","module","exports"],"mappings":"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","file":"static/js/main.e3e45e57.chunk.js","sourcesContent":["import axios from 'axios'\nimport React, { useEffect, useState } from 'react'\nimport AlbumPicker from './components/AlbumPicker'\nimport Header from './components/Header'\nimport Ranker from './components/Ranker'\nimport Results from './components/Results'\nimport Search from './components/Search'\nimport styled from 'styled-components'\n\naxios.defaults.baseURL = 'https://api.spotify.com'\n\nconst screens = {\n  search: 'search',\n  ranker: 'ranker',\n  album_picker: 'album_picker',\n  results: 'results',\n}\n\nfunction useStickyState(defaultValue, key) {\n  const [value, setValue] = React.useState(() => {\n    const stickyValue = window.localStorage.getItem(key)\n    return stickyValue !== null ? JSON.parse(stickyValue) : defaultValue\n  })\n  React.useEffect(() => {\n    window.localStorage.setItem(key, JSON.stringify(value))\n  }, [key, value])\n  return [value, setValue]\n}\n\nconst Home = () => {\n  const [token, setToken] = useState(null)\n  const [userToken, setUserToken] = useState(null)\n  const [selectedItem, setSelectedItem] = useState(null)\n  const [albums, setAlbums] = useState([])\n  const [songs, setSongs] = useState([])\n  const [selectedAlbums, setSelectedAlbums] = useState([])\n  const [rankedList, setRankedList] = useStickyState([])\n  const [screen, setScreen] = useState(() => {\n    return rankedList.length ? screens.results : screens.search\n  })\n\n  const restart = () => {\n    setRankedList([])\n    setSongs([])\n    setSelectedAlbums([])\n    setAlbums([])\n    setSelectedItem(null)\n    setScreen(screens.search)\n    window.location.reload()\n  }\n\n  useEffect(() => {\n    let config = {\n      headers: {\n        Authorization: 'Basic ' + new Buffer(process.env.REACT_APP_CLIENTID).toString('base64'),\n        'Content-Type': 'application/x-www-form-urlencoded',\n      },\n    }\n    const data = 'grant_type=client_credentials'\n    axios\n      .post('https://accounts.spotify.com/api/token', data, config)\n      .then(function (response) {\n        if (response.data) {\n          const token = response.data.access_token\n          setToken(token)\n          axios.defaults.headers.common['Authorization'] = 'Bearer ' + token\n        }\n      })\n      .catch(function (error) {\n        console.log(error)\n      })\n  }, [])\n\n  return (\n    <div>\n      <Header />\n      <Content>\n        {screen === screens.search && (\n          <Search\n            setScreen={setScreen}\n            selectedItem={selectedItem}\n            setSelectedItem={setSelectedItem}\n            setSelectedAlbums={setSelectedAlbums}\n          />\n        )}\n        {screen === screens.album_picker && (\n          <AlbumPicker\n            setScreen={setScreen}\n            selectedItem={selectedItem}\n            setAlbums={setAlbums}\n            albums={albums}\n            selectedAlbums={selectedAlbums}\n            setSelectedAlbums={setSelectedAlbums}\n          />\n        )}\n        {screen === screens.ranker && (\n          <Ranker\n            setScreen={setScreen}\n            selectedItem={selectedItem}\n            songs={songs}\n            albums={selectedAlbums}\n            setSongs={setSongs}\n            rankedList={rankedList}\n            setRankedList={setRankedList}\n          />\n        )}\n        {screen === screens.results && (\n          <Results\n            rankedList={rankedList}\n            token={userToken}\n            setToken={setUserToken}\n            restart={restart}\n          />\n        )}\n      </Content>\n    </div>\n  )\n}\n\nconst Content = styled.div`\n  max-width: 680px;\n  align-self: center;\n  margin: auto;\n`\n\nexport default Home\n","import axios from 'axios'\nimport React, { useEffect } from 'react'\nimport styled from 'styled-components'\nimport { PrimaryButton, Subheader, Text } from '../Base'\n\nconst AlbumPicker = ({\n  setScreen,\n  selectedItem,\n  setAlbums,\n  albums,\n  selectedAlbums,\n  setSelectedAlbums,\n}) => {\n  useEffect(() => {\n    axios\n      .get(`/v1/artists/${selectedItem.id}/albums?market=US&include_groups=album&limit=50`)\n      .then((result) => {\n        setAlbums(result.data.items)\n      })\n      .catch((error) => console.log(error))\n  }, [setAlbums, selectedItem])\n\n  const toggleSelected = (a) => {\n    setSelectedAlbums((prevState) => {\n      const newState = [...prevState]\n      if (newState.some((n) => n === a)) {\n        newState.splice(newState.indexOf(a), 1)\n      } else {\n        newState.push(a)\n      }\n      return newState\n    })\n  }\n\n  const onNext = () => {\n    setScreen('ranker')\n  }\n\n  return (\n    <Container>\n      <Subheader>\n        Select which albums to include\n        <br /> in your ranking\n      </Subheader>\n      <WarningText>\n        For best results, select at most one version of each album to avoid duplicate songs\n      </WarningText>\n      {albums.length && (\n        <div>\n          {albums.map((a, idx) => (\n            <ResultItem\n              onClick={() => toggleSelected(a)}\n              key={idx}\n              selected={selectedAlbums.includes(a) ? true : false}\n            >\n              {a.images[0] ? <ResultImage src={a.images[0].url} /> : <WhiteCircle />}\n              <Text>{a.name}</Text>\n            </ResultItem>\n          ))}\n        </div>\n      )}\n      {selectedAlbums.length ? (\n        <FixedButtonContainer>\n          <PrimaryButton\n            onClick={onNext}\n            style={{\n              position: 'fixed',\n              bottom: '20px',\n              left: '50%',\n              width: 'calc(100% - 30px)',\n              transform: 'translateX(-50%)',\n              maxWidth: '400px',\n            }}\n          >\n            BEGIN RANKING\n          </PrimaryButton>\n        </FixedButtonContainer>\n      ) : null}\n    </Container>\n  )\n}\n\nconst WarningText = styled(Text)`\n  color: ${(props) => props.theme.lightBlue};\n  font-size: 14px;\n`\n\nconst Container = styled.div`\n  padding: 16px;\n  padding-top: 70px;\n  padding-bottom: 80px;\n`\n\nconst ResultImage = styled.img`\n  height: 40px;\n  width: 40px;\n  margin-right: 2ch;\n`\n\nconst WhiteCircle = styled.span`\n  border-radius: 50%;\n  height: 40px;\n  width: 40px;\n  margin-right: 2ch;\n  background-color: white;\n`\n\nconst ResultItem = styled.div`\n  display: flex;\n  align-items: center;\n  height: 56px;\n  margin-bottom: 5px;\n  border-radius: 10px;\n  padding: 2px 10px;\n  background-color: ${(props) =>\n    props.selected ? props.theme.darkestGray : props.theme.background};\n`\nconst FixedButtonContainer = styled.div`\n  position: fixed;\n  left: 0;\n  bottom: 0;\n  height: 80px;\n  width: 100%;\n  background-color: rgb(41, 41, 41, 0.93);\n`\n\nexport default AlbumPicker\n","import React from 'react'\nimport styled from 'styled-components'\nconst Logo = require('../images/logo.svg')\n\nconst FixedHeader = styled.div`\n  position: absolute;\n  background-color: ${(props) => props.theme.darkestGray};\n  width: 100%;\n  height: 52px;\n  padding-left: 16px;\n  padding-top: 16px;\n  box-sizing: border-box;\n  top: 0;\n`\n\nconst Header = () => {\n  return (\n    <FixedHeader onClick={() => window.location.reload()}>\n      <img src={Logo} alt=\"SongRanker Logo\" />\n    </FixedHeader>\n  )\n}\n\nexport default Header\n","import React, { useState, useEffect } from 'react'\nimport styled from 'styled-components'\nimport { Subheader, SpotifyButton, SecondaryButton, PrimaryButton, Text } from '../Base'\nimport axios from 'axios'\n\nexport const authEndpoint = 'https://accounts.spotify.com/authorize'\nconst redirectUri = 'https://www.songranker.com/'\nconst scopes = [\n  'user-read-currently-playing',\n  'user-read-playback-state',\n  'streaming',\n  'user-top-read',\n  'user-library-read',\n  'playlist-read-private',\n  'playlist-modify-private',\n  'playlist-modify-public',\n  'user-read-email',\n  'user-read-private',\n]\n\nconst hash = window.location.hash\n  .substring(1)\n  .split('&')\n  .reduce(function (initial, item) {\n    if (item) {\n      var parts = item.split('=')\n      initial[parts[0]] = decodeURIComponent(parts[1])\n    }\n    return initial\n  }, {})\nwindow.location.hash = ''\n\nconst Results = ({ rankedList, token, setToken, restart }) => {\n  const [playlistUrl, setPlaylistUrl] = useState(null)\n\n  useEffect(() => {\n    let _token = hash.access_token\n    if (_token) {\n      setToken(_token)\n    }\n  }, [token, setToken])\n\n  const createPlaylist = () => {\n    axios\n      .get('/v1/me', {\n        headers: {\n          Authorization: 'Bearer ' + token,\n        },\n      })\n      .then((response) => {\n        const userSpotifyId = response.data.id\n        axios\n          .post(\n            `/v1/users/${userSpotifyId}/playlists`,\n            { name: 'SongRanker Results' },\n            { headers: { Authorization: 'Bearer ' + token } }\n          )\n          .then((response) => {\n            setPlaylistUrl(response.data.external_urls.spotify)\n            const playlistId = response.data.id\n            axios\n              .post(\n                `/v1/playlists/${playlistId}/tracks`,\n                { uris: rankedList.map((s) => s.uri) },\n                { headers: { Authorization: 'Bearer ' + token } }\n              )\n              .catch((err) => console.log(err))\n          })\n          .catch((err) => console.log(err))\n      })\n      .catch((err) => console.log(err))\n  }\n\n  if (rankedList.length) {\n    return (\n      <Container>\n        {!token ? (\n          <LoginContainer>\n            <InstructionText>\n              Log in with Spotify to save your ranking to a playlist\n            </InstructionText>\n            <SpotifyButton\n              onClick={() =>\n                (window.location.href = `${authEndpoint}?client_id=f170a7aa1b8e4e11ae2e80cbbc695b31&redirect_uri=${redirectUri}&scope=${scopes.join(\n                  '%20'\n                )}&response_type=token&show_dialog=true`)\n              }\n            >\n              LOG IN WITH SPOTIFY\n            </SpotifyButton>\n          </LoginContainer>\n        ) : playlistUrl ? (\n          <LoginContainer>\n            <InstructionText>Playlist created!</InstructionText>\n            <PrimaryButton\n              onClick={() => {\n                window.location.href = `${playlistUrl}`\n              }}\n            >\n              Open Playlist\n            </PrimaryButton>\n          </LoginContainer>\n        ) : (\n          <LoginContainer>\n            <InstructionText>Click below to save your ranking to a playlist</InstructionText>\n            <PrimaryButton onClick={createPlaylist}>Create Spotify Playlist</PrimaryButton>\n          </LoginContainer>\n        )}\n        <HeadingContainer>\n          <Subheader style={{ margin: 0 }}>Your Ranking</Subheader>\n          <StartOverButton onClick={restart}>START OVER</StartOverButton>\n        </HeadingContainer>\n        {rankedList.map((song, idx) => (\n          <ResultItemContainer key={idx}>\n            <RankText>#{idx + 1}</RankText>\n            <ResultItem key={idx}>\n              {song.image_url ? <ResultImage src={song.image_url} /> : <WhiteCircle />}\n              <div>\n                <TitleText>{song.name}</TitleText>\n                <ArtistText>{song.artists[0].name}</ArtistText>\n              </div>\n            </ResultItem>\n          </ResultItemContainer>\n        ))}\n      </Container>\n    )\n  } else {\n    return null\n  }\n}\n\nconst Container = styled.div`\n  padding: 16px;\n  padding-top: 70px;\n`\n\nconst ResultItemContainer = styled.div`\n  display: flex;\n  align-items: center;\n`\n\nconst RankText = styled.p`\n  font-size: 16px;\n  line-height: 18px;\n  color: #ffffff;\n`\n\nconst ResultImage = styled.img`\n  height: 40px;\n  width: 40px;\n  margin-right: 2ch;\n`\n\nconst WhiteCircle = styled.span`\n  border-radius: 50%;\n  height: 40px;\n  width: 40px;\n  margin-right: 2ch;\n  background-color: white;\n`\n\nconst ResultItem = styled.div`\n  display: flex;\n  align-items: center;\n  height: 56px;\n  margin-bottom: 1ch;\n  border-radius: 10px;\n  padding: ${(props) => (props.selected ? '1ch' : '0')} 2ch;\n`\n\nconst TitleText = styled.p`\n  font-style: normal;\n  font-weight: bold;\n  font-size: 13px;\n  color: white;\n  margin-bottom: 0px;\n`\n\nconst ArtistText = styled.p`\n  font-style: italic;\n  font-weight: normal;\n  font-size: 12px;\n  color: #8d9193;\n  margin-top: 0.5em;\n`\n\nconst LoginContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`\n\nconst InstructionText = styled.p`\n  font-size: 14px;\n  color: white;\n`\nconst HeadingContainer = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-bottom: 16px;\n  margin-top: 32px;\n`\n\nconst StartOverButton = styled(SecondaryButton)`\n  position: absolute;\n  top: 10px;\n  right: 10px;\n  font-size: 12px;\n  padding: 8px 32px;\n  color: ${(props) => props.theme.background};\n`\nexport default Results\n","import axios from 'axios'\nimport React, { useState } from 'react'\nimport styled from 'styled-components'\nimport { PrimaryButton, Subheader, Text } from '../Base'\n\nconst DownIcon = require('../images/down.svg')\nconst MagnifyingGlassIcon = require('../images/magnify.svg')\n\nvar timerId\n\nconst searchTypes = ['artist', 'album']\n\nconst Search = ({ setScreen, selectedItem, setSelectedItem, setSelectedAlbums }) => {\n  //artist or album\n  const [searchType, setSearchType] = useState(searchTypes[0])\n  const [showDropdown, setShowDropdown] = useState(false)\n  const [searchText, setSearchText] = useState('')\n  const [searchResults, setSearchResults] = useState(null)\n\n  const getSearchResults = () => {\n    axios.get(`/v1/search?q=${searchText}&type=${searchType}&limit=5`).then((response) => {\n      setSearchResults(response.data[searchType + 's'].items)\n    })\n  }\n\n  const onChange = (ev) => {\n    setSearchText(ev.target.value)\n    debounceFunction(getSearchResults, 300)\n  }\n\n  const debounceFunction = (func, delay) => {\n    clearTimeout(timerId)\n    timerId = setTimeout(func, delay)\n  }\n\n  const toggleShowDropdown = (ev) => {\n    setShowDropdown((prev) => !prev)\n    ev.stopPropagation()\n  }\n\n  const nextScreen = () => {\n    if (searchType === 'album') {\n      setSelectedAlbums([selectedItem])\n      setScreen('ranker')\n    } else {\n      setScreen('album_picker')\n    }\n  }\n\n  return (\n    <Container onClick={() => setShowDropdown(false)}>\n      <Subheader>Search for an Artist, Album, or Playlist to begin ranking songs</Subheader>\n      <SearchContainer>\n        <Dropdown onClick={(ev) => toggleShowDropdown(ev)}>\n          <Subheader>{searchType.charAt(0).toUpperCase() + searchType.slice(1)}</Subheader>\n          <Down src={DownIcon} />\n        </Dropdown>\n        <SearchBarContainer>\n          <SearchBar\n            type=\"text\"\n            value={searchText}\n            onChange={(ev) => {\n              onChange(ev)\n            }}\n          />\n          <Magnify src={MagnifyingGlassIcon} />\n        </SearchBarContainer>\n      </SearchContainer>\n      {showDropdown && (\n        <DropdownOptions>\n          {searchTypes.map((s, idx) => (\n            <DropdownOption\n              key={idx}\n              onClick={() => {\n                setSearchType(s)\n                setSearchResults(null)\n                setSelectedItem(null)\n                setSearchText('')\n              }}\n              selected={searchType === s ? true : false}\n            >\n              {s.charAt(0).toUpperCase() + s.slice(1)}\n            </DropdownOption>\n          ))}\n        </DropdownOptions>\n      )}\n      {searchResults && (\n        <div>\n          {searchResults.map((item, idx) => (\n            <ResultItem\n              onClick={() => setSelectedItem(item)}\n              key={idx}\n              selected={selectedItem === item ? true : false}\n            >\n              {item.images[0] ? (\n                <ResultImage src={item.images[0].url} type={searchType} />\n              ) : (\n                <WhiteCircle />\n              )}\n              <Text>{item.name}</Text>\n            </ResultItem>\n          ))}\n        </div>\n      )}\n      {selectedItem && (\n        <PrimaryButton\n          onClick={nextScreen}\n          style={{\n            position: 'fixed',\n            bottom: '30px',\n            left: '50%',\n            width: 'calc(100% - 30px)',\n            transform: 'translateX(-50%)',\n            maxWidth: '400px',\n          }}\n        >\n          {searchType === 'album' ? 'BEGIN RANKING' : 'NEXT'}\n        </PrimaryButton>\n      )}\n    </Container>\n  )\n}\n\nconst Container = styled.div`\n  padding: 16px;\n  padding-top: 70px;\n`\n\nconst SearchContainer = styled.div`\n  display: flex;\n  align-items: center;\n  width: 100%;\n`\n\nconst SearchBarContainer = styled.div`\n  position: relative;\n  height: 30px;\n  flex-grow: 1;\n  margin-left: 12px;\n`\n\nconst SearchBar = styled.input`\n  font-size: 16px;\n  border-radius: 15px;\n  border: 1px #000 solid;\n  padding: 5px 5px 5px 36px;\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 5;\n  width: 100%;\n  box-sizing: border-box;\n\n  &:focus {\n    outline: none;\n  }\n`\n\nconst Magnify = styled.img`\n  position: absolute;\n  top: 0px;\n  left: 5px;\n  z-index: 10;\n`\n\nconst Dropdown = styled.div`\n  display: flex;\n`\n\nconst Down = styled.img`\n  margin-left: 0.5ch;\n`\n\nconst DropdownOptions = styled.div`\n  background-color: ${(props) => props.theme.darkestGray};\n  width: 100px;\n  height: 100px;\n  text-align: center;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n`\n\nconst DropdownOption = styled(Text)`\n  background-color: ${(props) => (props.selected ? props.theme.primary : props.theme.darkestGray)};\n  margin: 0;\n  padding-top: 16px;\n  padding-bottom: 16px;\n`\n\nconst ResultImage = styled.img`\n  border-radius: ${(props) => (props.type === 'artist' ? '50%' : null)};\n  height: 40px;\n  width: 40px;\n  margin-right: 2ch;\n`\n\nconst WhiteCircle = styled.span`\n  border-radius: 50%;\n  height: 40px;\n  width: 40px;\n  margin-right: 2ch;\n  background-color: white;\n`\n\nconst ResultItem = styled.div`\n  display: flex;\n  align-items: center;\n  height: 56px;\n  margin-bottom: 5px;\n  border-radius: 10px;\n  padding: 2px 10px;\n  background-color: ${(props) =>\n    props.selected ? props.theme.darkestGray : props.theme.background};\n`\n\nexport default Search\n","class Prioritizer {\n  constructor(items, update) {\n    this.items = items\n    this.ranked = [this.items[0]]\n    this.current = 1\n    this.middle = 0\n    this.min = 0\n    this.max = 1\n    this.done = false\n    this.update = update\n  }\n\n  promptUser() {\n    this.update((n) => !n)\n  }\n\n  setMiddle() {\n    this.middle = Math.floor((this.min + this.max) / 2)\n  }\n\n  insertItem(item, index) {\n    this.ranked.splice(index, 0, item)\n  }\n\n  onClickCurrent() {\n    this.min = this.middle + 1\n    if (this.min === this.max) {\n      this.insertItem(this.items[this.current], this.min)\n      if (this.ranked.length === this.items.length) {\n        this.done = true\n        this.promptUser()\n        return\n      }\n      this.current++\n      this.min = 0\n      this.max = this.ranked.length\n    }\n    this.setMiddle()\n    this.promptUser()\n  }\n\n  onClickMiddle() {\n    this.max = this.middle\n    if (this.min === this.max || this.min === -1) {\n      this.insertItem(this.items[this.current], this.max)\n      if (this.ranked.length === this.items.length) {\n        this.done = true\n        this.promptUser()\n        return\n      }\n      this.current++\n      this.min = 0\n      this.max = this.ranked.length\n    }\n    this.setMiddle()\n    this.promptUser()\n  }\n}\n\nexport default Prioritizer\n","import axios from 'axios'\nimport React, { useEffect, useRef, useState } from 'react'\nimport styled from 'styled-components'\nimport { Text } from '../Base'\nimport Prioritizer from '../utils/prioritizer'\n\nconst Ranker = ({ setScreen, songs, setSongs, albums, setRankedList, rankedList }) => {\n  const leftOption = useRef(null)\n  const rightOption = useRef(null)\n  const [prioritizer, setPrioritizer] = useState(null)\n  const [, forceUpdate] = React.useState(0)\n\n  useEffect(() => {\n    let albumIds = ''\n    albums.forEach((a, idx) => {\n      if (idx !== 0) {\n        albumIds += ','\n      }\n      albumIds += a.id\n    })\n    axios\n      .get(`/v1/albums?ids=${albumIds}&market=US`)\n      .then((result) => {\n        let songList = []\n        result.data.albums.forEach((album) => {\n          let tracks = album.tracks.items.map((i) => ({ ...i, image_url: album.images[0]?.url }))\n          songList = [...songList, ...tracks]\n        })\n        const shuffledSongList = songList\n          .map((a) => ({ sort: Math.random(), value: a }))\n          .sort((a, b) => a.sort - b.sort)\n          .map((a) => a.value)\n        setSongs(shuffledSongList)\n      })\n      .catch((error) => console.log(error))\n  }, [setSongs, albums])\n\n  useEffect(() => {\n    if (prioritizer == null && songs.length) {\n      const items = [...songs]\n      setPrioritizer(new Prioritizer(items, forceUpdate))\n    }\n  }, [songs, prioritizer])\n\n  useEffect(() => {\n    if (leftOption.current && rightOption.current) {\n      leftOption.current.style.pointerEvents = 'auto'\n      rightOption.current.style.pointerEvents = 'auto'\n    }\n    if (prioritizer?.done) {\n      const list = []\n      for (let i = prioritizer?.ranked.length - 1; i >= 0; i--) {\n        list.push(prioritizer?.ranked[i])\n      }\n      setRankedList(list)\n    }\n  })\n\n  useEffect(() => {\n    if (prioritizer?.done) {\n      setScreen('results')\n    }\n  }, [rankedList, prioritizer, setScreen])\n\n  console.log(\n    'prioritizer?.ranked :>> ',\n    JSON.stringify(\n      prioritizer?.ranked.map((r) => r.name),\n      0,\n      4\n    )\n  )\n  const leftSong = prioritizer?.items[prioritizer?.current]\n  const rightSong = prioritizer?.ranked[prioritizer?.middle]\n  return (\n    <Container>\n      <Heading>Choose a song</Heading>\n      {songs.length && (\n        <Options>\n          <Option\n            ref={leftOption}\n            onClick={() => {\n              leftOption.current.style.pointerEvents = 'none'\n              rightOption.current.style.pointerEvents = 'none'\n              prioritizer.onClickCurrent()\n            }}\n          >\n            <AlbumArtwork src={leftSong?.image_url} />\n            <TitleText>{leftSong?.name}</TitleText>\n            <ArtistText>{leftSong?.artists[0].name}</ArtistText>\n          </Option>\n          <OrText>OR</OrText>\n          <Option\n            ref={rightOption}\n            onClick={() => {\n              leftOption.current.style.pointerEvents = 'none'\n              rightOption.current.style.pointerEvents = 'none'\n              prioritizer.onClickMiddle()\n            }}\n          >\n            <AlbumArtwork src={rightSong?.image_url} />\n            <TitleText>{rightSong?.name}</TitleText>\n            <ArtistText>{rightSong?.artists[0].name}</ArtistText>\n          </Option>\n        </Options>\n      )}\n    </Container>\n  )\n}\n\nconst Container = styled.div`\n  padding: 16px;\n  padding-top: 70px;\n`\n\nconst Heading = styled.p`\n  font-weight: bold;\n  font-size: 24px;\n  margin-top: 80px;\n  margin-bottom: 80px;\n  color: white;\n`\n\nconst OrText = styled(Text)`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-bottom: 30px;\n`\n\nconst AlbumArtwork = styled.img`\n  height: 100%;\n  width: auto;\n`\n\nconst Options = styled.div`\n  display: flex;\n  justify-content: space-between;\n  margin: auto;\n`\n\nconst Option = styled.div`\n  height: 33.33vw;\n  width: 33.33vw;\n  max-width: 250px;\n  max-height: 250px;\n`\n\nconst TitleText = styled.p`\n  font-style: normal;\n  font-weight: bold;\n  font-size: 1rem;\n  color: white;\n  margin-bottom: 0px;\n`\n\nconst ArtistText = styled.p`\n  font-style: italic;\n  font-weight: normal;\n  font-size: 0.8rem;\n  color: #8d9193;\n  margin-top: 0.5em;\n`\n\nexport default Ranker\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { ThemeProvider } from 'styled-components'\nimport Home from './Home'\n\nconst theme = {\n  primary: '#4B89AC',\n  lightBlue: '#ACE6F6',\n  background: '#292929',\n  darkestGray: '#1F1F1F',\n  gray100: '#D7DBDC',\n  gray200: '#8D9193',\n  spotifyGreen: '#1DB954',\n}\n\nReactDOM.render(\n  <React.StrictMode>\n    <ThemeProvider theme={theme}>\n      <Home />\n    </ThemeProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n","import styled from 'styled-components'\n\nconst PrimaryButton = styled.button`\n  font-family: Helvetica Neue, Helvetica, Arial, sans-serif;\n  font-weight: 550;\n  letter-spacing: 0.05em;\n  cursor: pointer;\n  border-radius: 40px;\n  padding: 12px 32px;\n  border: 0px;\n  background-color: ${(props) => props.theme.primary};\n  color: white;\n  width: ${(props) => (props.block ? '100%' : null)};\n`\n\nconst SecondaryButton = styled(PrimaryButton)`\n  background-color: white;\n  color: ${(props) => props.theme.primary};\n`\n\nconst SpotifyButton = styled(PrimaryButton)`\n  background-color: ${(props) => props.theme.spotifyGreen};\n`\n\nconst Subheader = styled.p`\n  font-size: 1.1em;\n  color: white;\n  font-weight: bold;\n`\n\nconst Text = styled.p`\n  color: white;\n`\n\nexport { PrimaryButton, SecondaryButton, SpotifyButton, Subheader, Text }\n","module.exports = __webpack_public_path__ + \"static/media/logo.fd609f05.svg\";","module.exports = __webpack_public_path__ + \"static/media/down.b4ef9886.svg\";","module.exports = __webpack_public_path__ + \"static/media/magnify.dc035f9e.svg\";"],"sourceRoot":""}