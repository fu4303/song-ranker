{"version":3,"sources":["Home.js","components/AlbumPicker.js","Base.js","components/Header.js","components/Results.js","components/Search.js","utils/prioritizer.js","components/Ranker.js","index.js","images/logo.svg","images/down.svg","images/magnify.svg"],"names":["axios","defaults","baseURL","screens","Home","useState","setToken","userToken","setUserToken","selectedItem","setSelectedItem","albums","setAlbums","songs","setSongs","selectedAlbums","setSelectedAlbums","defaultValue","key","React","stickyValue","window","localStorage","getItem","JSON","parse","value","setValue","useEffect","setItem","stringify","useStickyState","rankedList","setRankedList","length","screen","setScreen","config","headers","Authorization","Buffer","process","toString","post","then","response","data","token","access_token","common","catch","error","console","log","restart","WarningText","styled","Text","props","theme","lightBlue","Container","div","ResultImage","img","WhiteCircle","span","ResultItem","selected","darkestGray","background","AlbumPicker","get","id","result","items","map","a","idx","onClick","prevState","newState","some","n","splice","indexOf","push","toggleSelected","includes","images","src","url","name","block","PrimaryButton","button","primary","SecondaryButton","SpotifyButton","spotifyGreen","Subheader","p","Logo","require","FixedHeader","Header","alt","scopes","hash","location","substring","split","reduce","initial","item","parts","decodeURIComponent","ResultItemContainer","RankText","TitleText","ArtistText","LoginContainer","InstructionText","HeadingContainer","StartOverButton","Results","playlistUrl","setPlaylistUrl","_token","href","userSpotifyId","external_urls","spotify","playlistId","uris","s","uri","err","join","style","margin","song","image_url","artists","timerId","DownIcon","MagnifyingGlassIcon","searchTypes","SearchContainer","SearchBarContainer","SearchBar","input","Magnify","Dropdown","Down","DropdownOptions","DropdownOption","type","Search","searchType","setSearchType","showDropdown","setShowDropdown","searchText","setSearchText","searchResults","setSearchResults","getSearchResults","debounceFunction","func","delay","clearTimeout","setTimeout","ev","prev","stopPropagation","toggleShowDropdown","charAt","toUpperCase","slice","onChange","target","marginTop","Prioritizer","update","this","ranked","current","middle","min","max","done","Math","floor","index","insertItem","promptUser","setMiddle","Heading","OrText","AlbumArtwork","Options","Option","Ranker","leftOption","useRef","rightOption","prioritizer","setPrioritizer","forceUpdate","albumIds","forEach","songList","album","tracks","i","shuffledSongList","sort","random","b","pointerEvents","list","leftSong","rightSong","ref","onClickCurrent","onClickMiddle","ReactDOM","render","StrictMode","gray100","gray200","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.0aeac3bd.chunk.js","sourcesContent":["import axios from 'axios'\nimport React, { useEffect, useState } from 'react'\nimport AlbumPicker from './components/AlbumPicker'\nimport Header from './components/Header'\nimport Ranker from './components/Ranker'\nimport Results from './components/Results'\nimport Search from './components/Search'\n\naxios.defaults.baseURL = 'https://api.spotify.com'\n\nconst screens = {\n  search: 'search',\n  ranker: 'ranker',\n  album_picker: 'album_picker',\n  results: 'results',\n}\n\nfunction useStickyState(defaultValue, key) {\n  const [value, setValue] = React.useState(() => {\n    const stickyValue = window.localStorage.getItem(key)\n    return stickyValue !== null ? JSON.parse(stickyValue) : defaultValue\n  })\n  React.useEffect(() => {\n    window.localStorage.setItem(key, JSON.stringify(value))\n  }, [key, value])\n  return [value, setValue]\n}\n\nconst Home = () => {\n  const [token, setToken] = useState(null)\n  const [userToken, setUserToken] = useState(null)\n  const [selectedItem, setSelectedItem] = useState(null)\n  const [albums, setAlbums] = useState([])\n  const [songs, setSongs] = useState([])\n  const [selectedAlbums, setSelectedAlbums] = useState([])\n  const [rankedList, setRankedList] = useStickyState([])\n  const [screen, setScreen] = useState(() => {\n    return rankedList.length ? screens.results : screens.search\n  })\n\n  const restart = () => {\n    setRankedList([])\n    setScreen(screens.search)\n  }\n\n  useEffect(() => {\n    let config = {\n      headers: {\n        Authorization: 'Basic ' + new Buffer(process.env.REACT_APP_CLIENTID).toString('base64'),\n        'Content-Type': 'application/x-www-form-urlencoded',\n      },\n    }\n    const data = 'grant_type=client_credentials'\n    axios\n      .post('https://accounts.spotify.com/api/token', data, config)\n      .then(function (response) {\n        if (response.data) {\n          const token = response.data.access_token\n          setToken(token)\n          axios.defaults.headers.common['Authorization'] = 'Bearer ' + token\n        }\n      })\n      .catch(function (error) {\n        console.log(error)\n      })\n  }, [])\n\n  return (\n    <div>\n      <Header />\n      {screen === screens.search && (\n        <Search\n          setScreen={setScreen}\n          selectedItem={selectedItem}\n          setSelectedItem={setSelectedItem}\n          setSelectedAlbums={setSelectedAlbums}\n        />\n      )}\n      {screen === screens.album_picker && (\n        <AlbumPicker\n          setScreen={setScreen}\n          selectedItem={selectedItem}\n          setAlbums={setAlbums}\n          albums={albums}\n          selectedAlbums={selectedAlbums}\n          setSelectedAlbums={setSelectedAlbums}\n        />\n      )}\n      {screen === screens.ranker && (\n        <Ranker\n          setScreen={setScreen}\n          selectedItem={selectedItem}\n          songs={songs}\n          albums={selectedAlbums}\n          setSongs={setSongs}\n          rankedList={rankedList}\n          setRankedList={setRankedList}\n        />\n      )}\n      {screen === screens.results && (\n        <Results\n          rankedList={rankedList}\n          token={userToken}\n          setToken={setUserToken}\n          restart={restart}\n        />\n      )}\n    </div>\n  )\n}\n\nexport default Home\n","import axios from 'axios'\nimport React, { useEffect } from 'react'\nimport styled from 'styled-components'\nimport { PrimaryButton, Subheader, Text } from '../Base'\n\nconst AlbumPicker = ({\n  setScreen,\n  selectedItem,\n  setAlbums,\n  albums,\n  selectedAlbums,\n  setSelectedAlbums,\n}) => {\n  useEffect(() => {\n    axios\n      .get(`/v1/artists/${selectedItem.id}/albums?market=US&include_groups=album&limit=50`)\n      .then((result) => {\n        setAlbums(result.data.items)\n      })\n      .catch((error) => console.log(error))\n  }, [setAlbums, selectedItem])\n\n  const toggleSelected = (a) => {\n    setSelectedAlbums((prevState) => {\n      const newState = [...prevState]\n      if (newState.some((n) => n === a)) {\n        newState.splice(newState.indexOf(a), 1)\n      } else {\n        newState.push(a)\n      }\n      return newState\n    })\n  }\n\n  const onNext = () => {\n    setScreen('ranker')\n  }\n\n  return (\n    <Container>\n      <Subheader>\n        Select which albums to include\n        <br /> in your ranking\n      </Subheader>\n      <WarningText>\n        For best results, select at most one version of each album to avoid duplicate songs\n      </WarningText>\n      {albums.length && (\n        <div>\n          {albums.map((a, idx) => (\n            <ResultItem\n              onClick={() => toggleSelected(a)}\n              key={idx}\n              selected={selectedAlbums.includes(a) ? true : false}\n            >\n              {a.images[0] ? <ResultImage src={a.images[0].url} /> : <WhiteCircle />}\n              <Text>{a.name}</Text>\n            </ResultItem>\n          ))}\n        </div>\n      )}\n      {selectedAlbums.length ? (\n        <PrimaryButton onClick={onNext} block>\n          BEGIN RANKING\n        </PrimaryButton>\n      ) : null}\n    </Container>\n  )\n}\n\nconst WarningText = styled(Text)`\n  color: ${(props) => props.theme.lightBlue};\n  font-size: 14px;\n`\n\nconst Container = styled.div`\n  padding: 16px;\n  padding-top: 70px;\n  padding-bottom: 32px;\n`\n\nconst ResultImage = styled.img`\n  height: 40px;\n  width: 40px;\n  margin-right: 2ch;\n`\n\nconst WhiteCircle = styled.span`\n  border-radius: 50%;\n  height: 40px;\n  width: 40px;\n  margin-right: 2ch;\n  background-color: white;\n`\n\nconst ResultItem = styled.div`\n  display: flex;\n  align-items: center;\n  height: 56px;\n  margin-bottom: 1ch;\n  border-radius: 10px;\n  padding: ${(props) => (props.selected ? '1ch' : '0')} 2ch;\n  background-color: ${(props) =>\n    props.selected ? props.theme.darkestGray : props.theme.background};\n`\n\nexport default AlbumPicker\n","import styled from 'styled-components'\n\nconst PrimaryButton = styled.button`\n  font-family: Helvetica Neue, Helvetica, Arial, sans-serif;\n  font-weight: 550;\n  letter-spacing: 0.05em;\n  cursor: pointer;\n  border-radius: 40px;\n  padding: 12px 32px;\n  border: 0px;\n  background-color: ${(props) => props.theme.primary};\n  color: white;\n  width: ${(props) => (props.block ? '100%' : null)};\n`\n\nconst SecondaryButton = styled(PrimaryButton)`\n  background-color: white;\n  color: ${(props) => props.theme.primary};\n`\n\nconst SpotifyButton = styled(PrimaryButton)`\n  background-color: ${(props) => props.theme.spotifyGreen};\n`\n\nconst Subheader = styled.p`\n  font-size: 1.1em;\n  color: white;\n  font-weight: bold;\n`\n\nconst Text = styled.p`\n  color: white;\n`\n\nexport { PrimaryButton, SecondaryButton, SpotifyButton, Subheader, Text }\n","import React from 'react'\nimport styled from 'styled-components'\nconst Logo = require('../images/logo.svg')\n\nconst FixedHeader = styled.div`\n  position: absolute;\n  background-color: ${(props) => props.theme.darkestGray};\n  width: 100%;\n  height: 52px;\n  padding-left: 16px;\n  padding-top: 16px;\n  box-sizing: border-box;\n  top: 0;\n`\n\nconst Header = () => {\n  return (\n    <FixedHeader>\n      <img src={Logo} alt=\"Rankify Logo\" />\n    </FixedHeader>\n  )\n}\n\nexport default Header\n","import React, { useState, useEffect } from 'react'\nimport styled from 'styled-components'\nimport { Subheader, SpotifyButton, SecondaryButton, PrimaryButton, Text } from '../Base'\nimport axios from 'axios'\n\nexport const authEndpoint = 'https://accounts.spotify.com/authorize'\nconst redirectUri = 'https://katherinepeterson.github.io/rankify/'\nconst scopes = [\n  'user-read-currently-playing',\n  'user-read-playback-state',\n  'streaming',\n  'user-top-read',\n  'user-library-read',\n  'playlist-read-private',\n  'playlist-modify-private',\n  'playlist-modify-public',\n  'user-read-email',\n  'user-read-private',\n]\n\nconst hash = window.location.hash\n  .substring(1)\n  .split('&')\n  .reduce(function (initial, item) {\n    if (item) {\n      var parts = item.split('=')\n      initial[parts[0]] = decodeURIComponent(parts[1])\n    }\n    return initial\n  }, {})\nwindow.location.hash = ''\n\nconst Results = ({ rankedList, token, setToken, restart }) => {\n  const [playlistUrl, setPlaylistUrl] = useState(null)\n\n  useEffect(() => {\n    let _token = hash.access_token\n    if (_token) {\n      setToken(_token)\n    }\n  }, [token, setToken])\n\n  const createPlaylist = () => {\n    axios\n      .get('/v1/me', {\n        headers: {\n          Authorization: 'Bearer ' + token,\n        },\n      })\n      .then((response) => {\n        const userSpotifyId = response.data.id\n        axios\n          .post(\n            `/v1/users/${userSpotifyId}/playlists`,\n            { name: 'Rankify Results' },\n            { headers: { Authorization: 'Bearer ' + token } }\n          )\n          .then((response) => {\n            setPlaylistUrl(response.data.external_urls.spotify)\n            const playlistId = response.data.id\n            console.log('response :>> ', response)\n            axios\n              .post(\n                `/v1/playlists/${playlistId}/tracks`,\n                { uris: rankedList.map((s) => s.uri) },\n                { headers: { Authorization: 'Bearer ' + token } }\n              )\n              .catch((err) => console.log(err))\n          })\n          .catch((err) => console.log(err))\n      })\n      .catch((err) => console.log(err))\n  }\n\n  if (rankedList.length) {\n    return (\n      <Container>\n        {!token ? (\n          <LoginContainer>\n            <InstructionText>\n              Log in with Spotify to save your ranking to a playlist\n            </InstructionText>\n            <SpotifyButton\n              onClick={() =>\n                (window.location.href = `${authEndpoint}?client_id=f170a7aa1b8e4e11ae2e80cbbc695b31&redirect_uri=${redirectUri}&scope=${scopes.join(\n                  '%20'\n                )}&response_type=token&show_dialog=true`)\n              }\n            >\n              LOG IN WITH SPOTIFY\n            </SpotifyButton>\n          </LoginContainer>\n        ) : playlistUrl ? (\n          <LoginContainer>\n            <InstructionText>Playlist created!</InstructionText>\n            <PrimaryButton\n              onClick={() => {\n                window.location.href = `${playlistUrl}`\n              }}\n            >\n              Open Playlist\n            </PrimaryButton>\n          </LoginContainer>\n        ) : (\n          <LoginContainer>\n            <InstructionText>Click below to save your ranking to a playlist</InstructionText>\n            <PrimaryButton onClick={createPlaylist}>Create Spotify Playlist</PrimaryButton>\n          </LoginContainer>\n        )}\n        <HeadingContainer>\n          <Subheader style={{ margin: 0 }}>Your Ranking</Subheader>\n          <StartOverButton onClick={restart}>START OVER</StartOverButton>\n        </HeadingContainer>\n        {rankedList.map((song, idx) => (\n          <ResultItemContainer key={idx}>\n            <RankText>#{idx + 1}</RankText>\n            <ResultItem key={idx}>\n              {song.image_url ? <ResultImage src={song.image_url} /> : <WhiteCircle />}\n              <div>\n                <TitleText>{song.name}</TitleText>\n                <ArtistText>{song.artists[0].name}</ArtistText>\n              </div>\n            </ResultItem>\n          </ResultItemContainer>\n        ))}\n      </Container>\n    )\n  } else {\n    return null\n  }\n}\n\nconst Container = styled.div`\n  padding: 16px;\n  padding-top: 70px;\n`\n\nconst ResultItemContainer = styled.div`\n  display: flex;\n  align-items: center;\n`\n\nconst RankText = styled.p`\n  font-size: 16px;\n  line-height: 18px;\n  color: #ffffff;\n`\n\nconst ResultImage = styled.img`\n  height: 40px;\n  width: 40px;\n  margin-right: 2ch;\n`\n\nconst WhiteCircle = styled.span`\n  border-radius: 50%;\n  height: 40px;\n  width: 40px;\n  margin-right: 2ch;\n  background-color: white;\n`\n\nconst ResultItem = styled.div`\n  display: flex;\n  align-items: center;\n  height: 56px;\n  margin-bottom: 1ch;\n  border-radius: 10px;\n  padding: ${(props) => (props.selected ? '1ch' : '0')} 2ch;\n`\n\nconst TitleText = styled.p`\n  font-style: normal;\n  font-weight: bold;\n  font-size: 13px;\n  color: white;\n  margin-bottom: 0px;\n`\n\nconst ArtistText = styled.p`\n  font-style: italic;\n  font-weight: normal;\n  font-size: 12px;\n  color: #8d9193;\n  margin-top: 0.5em;\n`\n\nconst LoginContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`\n\nconst InstructionText = styled.p`\n  font-size: 14px;\n  color: white;\n`\nconst HeadingContainer = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-bottom: 16px;\n  margin-top: 32px;\n`\n\nconst StartOverButton = styled(SecondaryButton)`\n  position: absolute;\n  top: 10px;\n  right: 10px;\n  font-size: 12px;\n  padding: 8px 32px;\n  color: ${(props) => props.theme.background};\n`\nexport default Results\n","import axios from 'axios'\nimport React, { useState } from 'react'\nimport styled from 'styled-components'\nimport { PrimaryButton, Subheader, Text } from '../Base'\n\nconst DownIcon = require('../images/down.svg')\nconst MagnifyingGlassIcon = require('../images/magnify.svg')\n\nvar timerId\n\nconst searchTypes = ['artist', 'album']\n\nconst Search = ({ setScreen, selectedItem, setSelectedItem, setSelectedAlbums }) => {\n  //artist or album\n  const [searchType, setSearchType] = useState(searchTypes[0])\n  const [showDropdown, setShowDropdown] = useState(false)\n  const [searchText, setSearchText] = useState('')\n  const [searchResults, setSearchResults] = useState(null)\n\n  const getSearchResults = () => {\n    axios.get(`/v1/search?q=${searchText}&type=${searchType}&limit=5`).then((response) => {\n      setSearchResults(response.data[searchType + 's'].items)\n    })\n  }\n\n  const onChange = (ev) => {\n    setSearchText(ev.target.value)\n    debounceFunction(getSearchResults, 300)\n  }\n\n  const debounceFunction = (func, delay) => {\n    clearTimeout(timerId)\n    timerId = setTimeout(func, delay)\n  }\n\n  const toggleShowDropdown = (ev) => {\n    setShowDropdown((prev) => !prev)\n    ev.stopPropagation()\n  }\n\n  const nextScreen = () => {\n    if (searchType === 'album') {\n      setSelectedAlbums([selectedItem])\n      setScreen('ranker')\n    } else {\n      setScreen('album_picker')\n    }\n  }\n\n  return (\n    <Container onClick={() => setShowDropdown(false)}>\n      <Subheader>\n        Search for an Artist, Album, or\n        <br /> Playlist to begin ranking songs\n      </Subheader>\n      <SearchContainer>\n        <Dropdown onClick={(ev) => toggleShowDropdown(ev)}>\n          <Subheader>{searchType.charAt(0).toUpperCase() + searchType.slice(1)}</Subheader>\n          <Down src={DownIcon} />\n        </Dropdown>\n        <SearchBarContainer>\n          <SearchBar\n            type=\"text\"\n            value={searchText}\n            onChange={(ev) => {\n              onChange(ev)\n            }}\n          />\n          <Magnify src={MagnifyingGlassIcon} />\n        </SearchBarContainer>\n      </SearchContainer>\n      {showDropdown && (\n        <DropdownOptions>\n          {searchTypes.map((s, idx) => (\n            <DropdownOption\n              key={idx}\n              onClick={() => {\n                setSearchType(s)\n                setSearchResults(null)\n                setSelectedItem(null)\n              }}\n              selected={searchType === s ? true : false}\n            >\n              {s.charAt(0).toUpperCase() + s.slice(1)}\n            </DropdownOption>\n          ))}\n        </DropdownOptions>\n      )}\n      {searchResults && (\n        <div>\n          {searchResults.map((item, idx) => (\n            <ResultItem\n              onClick={() => setSelectedItem(item)}\n              key={idx}\n              selected={selectedItem === item ? true : false}\n            >\n              {item.images[0] ? (\n                <ResultImage src={item.images[0].url} type={searchType} />\n              ) : (\n                <WhiteCircle />\n              )}\n              <Text>{item.name}</Text>\n            </ResultItem>\n          ))}\n        </div>\n      )}\n      {selectedItem && (\n        <PrimaryButton onClick={nextScreen} style={{ marginTop: '10px' }} block>\n          {searchType === 'album' ? 'BEGIN RANKING' : 'NEXT'}\n        </PrimaryButton>\n      )}\n    </Container>\n  )\n}\n\nconst Container = styled.div`\n  padding: 16px;\n  padding-top: 70px;\n`\n\nconst SearchContainer = styled.div`\n  display: flex;\n  align-items: center;\n  width: 100%;\n`\n\nconst SearchBarContainer = styled.div`\n  position: relative;\n  height: 30px;\n  flex-grow: 1;\n  margin-left: 12px;\n`\n\nconst SearchBar = styled.input`\n  border-radius: 15px;\n  border: 1px #000 solid;\n  padding: 5px 5px 5px 36px;\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 5;\n  width: 100%;\n  box-sizing: border-box;\n\n  &:focus {\n    outline: none;\n  }\n`\n\nconst Magnify = styled.img`\n  position: absolute;\n  top: -3px;\n  left: 5px;\n  z-index: 10;\n`\n\nconst Dropdown = styled.div`\n  display: flex;\n`\n\nconst Down = styled.img`\n  margin-left: 0.5ch;\n`\n\nconst DropdownOptions = styled.div`\n  background-color: ${(props) => props.theme.darkestGray};\n  width: 100px;\n  height: 100px;\n  text-align: center;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n`\n\nconst DropdownOption = styled(Text)`\n  background-color: ${(props) => (props.selected ? props.theme.primary : props.theme.darkestGray)};\n  margin: 0;\n  padding-top: 16px;\n  padding-bottom: 16px;\n`\n\nconst ResultImage = styled.img`\n  border-radius: ${(props) => (props.type === 'artist' ? '50%' : null)};\n  height: 40px;\n  width: 40px;\n  margin-right: 2ch;\n`\n\nconst WhiteCircle = styled.span`\n  border-radius: 50%;\n  height: 40px;\n  width: 40px;\n  margin-right: 2ch;\n  background-color: white;\n`\n\nconst ResultItem = styled.div`\n  display: flex;\n  align-items: center;\n  height: 56px;\n  margin-bottom: 1ch;\n  border-radius: 10px;\n  padding: ${(props) => (props.selected ? '1ch' : '0')} 2ch;\n  background-color: ${(props) =>\n    props.selected ? props.theme.darkestGray : props.theme.background};\n`\n\nexport default Search\n","class Prioritizer {\n  constructor(items, update) {\n    this.items = items\n    this.ranked = [this.items[0]]\n    this.current = 1\n    this.middle = 0\n    this.min = -1\n    this.max = 1\n    this.done = false\n    this.update = update\n  }\n\n  promptUser() {\n    this.update((n) => !n)\n  }\n\n  setMiddle() {\n    this.middle = Math.floor((this.min + this.max) / 2)\n  }\n\n  insertItem(item, index) {\n    this.ranked.splice(index, 0, item)\n  }\n\n  onClickCurrent() {\n    this.min = this.middle + 1\n    if (this.min === this.max) {\n      this.insertItem(this.items[this.current], this.min)\n      if (this.ranked.length === this.items.length) {\n        this.done = true\n        this.promptUser()\n        return\n      }\n      this.current++\n      this.min = 0\n      this.max = this.ranked.length - 1\n    }\n    this.setMiddle()\n    this.promptUser()\n  }\n\n  onClickMiddle() {\n    this.max = this.middle\n    if (this.min === this.max || this.min === -1) {\n      this.insertItem(this.items[this.current], this.max)\n      if (this.ranked.length === this.items.length) {\n        this.done = true\n        this.promptUser()\n        return\n      }\n      this.current++\n      this.min = 0\n      this.max = this.ranked.length - 1\n    }\n    this.setMiddle()\n    this.promptUser()\n  }\n}\n\nexport default Prioritizer\n","import axios from 'axios'\nimport React, { useEffect, useRef, useState } from 'react'\nimport styled from 'styled-components'\nimport { Text } from '../Base'\nimport Prioritizer from '../utils/prioritizer'\n\nconst Ranker = ({ setScreen, songs, setSongs, albums, setRankedList, rankedList }) => {\n  const leftOption = useRef(null)\n  const rightOption = useRef(null)\n  const [prioritizer, setPrioritizer] = useState(null)\n  const [, forceUpdate] = React.useState(0)\n\n  useEffect(() => {\n    let albumIds = ''\n    albums.forEach((a, idx) => {\n      if (idx !== 0) {\n        albumIds += ','\n      }\n      albumIds += a.id\n    })\n    axios\n      .get(`/v1/albums?ids=${albumIds}&market=US`)\n      .then((result) => {\n        let songList = []\n        result.data.albums.forEach((album) => {\n          let tracks = album.tracks.items.map((i) => ({ ...i, image_url: album.images[0]?.url }))\n          songList = [...songList, ...tracks]\n        })\n        const shuffledSongList = songList\n          .map((a) => ({ sort: Math.random(), value: a }))\n          .sort((a, b) => a.sort - b.sort)\n          .map((a) => a.value)\n        setSongs(shuffledSongList)\n      })\n      .catch((error) => console.log(error))\n  }, [setSongs, albums])\n\n  useEffect(() => {\n    if (prioritizer == null && songs.length) {\n      const items = [...songs]\n      setPrioritizer(new Prioritizer(items, forceUpdate))\n    }\n  }, [songs, prioritizer])\n\n  useEffect(() => {\n    if (leftOption.current && rightOption.current) {\n      leftOption.current.style.pointerEvents = 'auto'\n      rightOption.current.style.pointerEvents = 'auto'\n    }\n    if (prioritizer?.done) {\n      const list = []\n      for (let i = prioritizer?.ranked.length - 1; i >= 0; i--) {\n        list.push(prioritizer?.ranked[i])\n      }\n      setRankedList(list)\n    }\n  })\n\n  useEffect(() => {\n    if (prioritizer?.done) {\n      setScreen('results')\n    }\n  }, [rankedList, prioritizer, setScreen])\n\n  const leftSong = prioritizer?.items[prioritizer?.current]\n  const rightSong = prioritizer?.ranked[prioritizer?.middle]\n  return (\n    <Container>\n      <Heading>Choose a song</Heading>\n      {songs.length && (\n        <Options>\n          <Option\n            ref={leftOption}\n            onClick={() => {\n              leftOption.current.style.pointerEvents = 'none'\n              rightOption.current.style.pointerEvents = 'none'\n              prioritizer.onClickCurrent()\n            }}\n          >\n            <AlbumArtwork src={leftSong?.image_url} />\n            <TitleText>{leftSong?.name}</TitleText>\n            <ArtistText>{leftSong?.artists[0].name}</ArtistText>\n          </Option>\n          <OrText>OR</OrText>\n          <Option\n            ref={rightOption}\n            onClick={() => {\n              leftOption.current.style.pointerEvents = 'none'\n              rightOption.current.style.pointerEvents = 'none'\n              prioritizer.onClickMiddle()\n            }}\n          >\n            <AlbumArtwork src={rightSong?.image_url} />\n            <TitleText>{rightSong?.name}</TitleText>\n            <ArtistText>{rightSong?.artists[0].name}</ArtistText>\n          </Option>\n        </Options>\n      )}\n    </Container>\n  )\n}\n\nconst Container = styled.div`\n  padding: 16px;\n  padding-top: 70px;\n`\n\nconst Heading = styled.p`\n  font-weight: bold;\n  font-size: 24px;\n  margin-top: 80px;\n  margin-bottom: 80px;\n  color: white;\n`\n\nconst OrText = styled(Text)`\n  transform: translateY(60px);\n`\n\nconst AlbumArtwork = styled.img`\n  height: 136px;\n  width: 136px;\n`\n\nconst Options = styled.div`\n  display: flex;\n  justify-content: space-between;\n  max-width: 400px;\n`\n\nconst Option = styled.div`\n  max-width: 136px;\n`\n\nconst TitleText = styled.p`\n  font-style: normal;\n  font-weight: bold;\n  font-size: 13px;\n  color: white;\n  margin-bottom: 0px;\n`\n\nconst ArtistText = styled.p`\n  font-style: italic;\n  font-weight: normal;\n  font-size: 12px;\n  color: #8d9193;\n  margin-top: 0.5em;\n`\n\nexport default Ranker\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { ThemeProvider } from 'styled-components'\nimport Home from './Home'\n\nconst theme = {\n  primary: '#4B89AC',\n  lightBlue: '#ACE6F6',\n  background: '#292929',\n  darkestGray: '#1F1F1F',\n  gray100: '#D7DBDC',\n  gray200: '#8D9193',\n  spotifyGreen: '#1DB954',\n}\n\nReactDOM.render(\n  <React.StrictMode>\n    <ThemeProvider theme={theme}>\n      <Home />\n    </ThemeProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n","module.exports = __webpack_public_path__ + \"static/media/logo.4121971b.svg\";","module.exports = __webpack_public_path__ + \"static/media/down.b4ef9886.svg\";","module.exports = __webpack_public_path__ + \"static/media/magnify.dc035f9e.svg\";"],"sourceRoot":""}