{"version":3,"sources":["Home.js","components/AlbumPicker.js","components/Header.js","components/Results.js","components/Search.js","utils/prioritizer.js","components/Ranker.js","index.js","Base.js","images/logo.svg","images/down.svg","images/magnify.svg"],"names":["axios","defaults","baseURL","screens","Home","useState","setToken","userToken","setUserToken","selectedItem","setSelectedItem","albums","setAlbums","songs","setSongs","selectedAlbums","setSelectedAlbums","defaultValue","key","React","stickyValue","window","localStorage","getItem","JSON","parse","value","setValue","useEffect","setItem","stringify","useStickyState","rankedList","setRankedList","length","screen","setScreen","config","headers","Authorization","Buffer","process","toString","post","then","response","data","token","access_token","common","catch","error","console","log","restart","location","reload","WarningText","styled","Text","props","theme","lightBlue","Container","div","ResultImage","img","WhiteCircle","span","ResultItem","selected","darkestGray","background","AlbumPicker","get","id","result","items","map","a","idx","onClick","prevState","newState","some","n","splice","indexOf","push","toggleSelected","includes","images","src","url","name","block","Logo","require","FixedHeader","Header","alt","scopes","hash","substring","split","reduce","initial","item","parts","decodeURIComponent","ResultItemContainer","RankText","p","TitleText","ArtistText","LoginContainer","InstructionText","HeadingContainer","StartOverButton","SecondaryButton","Results","playlistUrl","setPlaylistUrl","_token","href","userSpotifyId","external_urls","spotify","playlistId","uris","s","uri","err","join","style","margin","song","image_url","artists","timerId","DownIcon","MagnifyingGlassIcon","searchTypes","SearchContainer","SearchBarContainer","SearchBar","input","Magnify","Dropdown","Down","DropdownOptions","DropdownOption","primary","type","Search","searchType","setSearchType","showDropdown","setShowDropdown","searchText","setSearchText","searchResults","setSearchResults","getSearchResults","debounceFunction","func","delay","clearTimeout","setTimeout","ev","prev","stopPropagation","toggleShowDropdown","charAt","toUpperCase","slice","onChange","target","marginTop","Prioritizer","update","this","ranked","current","middle","min","max","done","Math","floor","index","insertItem","promptUser","setMiddle","Heading","OrText","AlbumArtwork","Options","Option","Ranker","leftOption","useRef","rightOption","prioritizer","setPrioritizer","forceUpdate","albumIds","forEach","songList","album","tracks","i","shuffledSongList","sort","random","b","pointerEvents","list","r","leftSong","rightSong","ref","onClickCurrent","onClickMiddle","ReactDOM","render","StrictMode","gray100","gray200","spotifyGreen","document","getElementById","PrimaryButton","button","SpotifyButton","Subheader","module","exports"],"mappings":"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","file":"static/js/main.ea3f24a3.chunk.js","sourcesContent":["import axios from 'axios'\nimport React, { useEffect, useState } from 'react'\nimport AlbumPicker from './components/AlbumPicker'\nimport Header from './components/Header'\nimport Ranker from './components/Ranker'\nimport Results from './components/Results'\nimport Search from './components/Search'\n\naxios.defaults.baseURL = 'https://api.spotify.com'\n\nconst screens = {\n  search: 'search',\n  ranker: 'ranker',\n  album_picker: 'album_picker',\n  results: 'results',\n}\n\nfunction useStickyState(defaultValue, key) {\n  const [value, setValue] = React.useState(() => {\n    const stickyValue = window.localStorage.getItem(key)\n    return stickyValue !== null ? JSON.parse(stickyValue) : defaultValue\n  })\n  React.useEffect(() => {\n    window.localStorage.setItem(key, JSON.stringify(value))\n  }, [key, value])\n  return [value, setValue]\n}\n\nconst Home = () => {\n  const [token, setToken] = useState(null)\n  const [userToken, setUserToken] = useState(null)\n  const [selectedItem, setSelectedItem] = useState(null)\n  const [albums, setAlbums] = useState([])\n  const [songs, setSongs] = useState([])\n  const [selectedAlbums, setSelectedAlbums] = useState([])\n  const [rankedList, setRankedList] = useStickyState([])\n  const [screen, setScreen] = useState(() => {\n    return rankedList.length ? screens.results : screens.search\n  })\n\n  const restart = () => {\n    setRankedList([])\n    setSongs([])\n    setSelectedAlbums([])\n    setAlbums([])\n    setSelectedItem(null)\n    setScreen(screens.search)\n    window.location.reload()\n  }\n\n  useEffect(() => {\n    let config = {\n      headers: {\n        Authorization: 'Basic ' + new Buffer(process.env.REACT_APP_CLIENTID).toString('base64'),\n        'Content-Type': 'application/x-www-form-urlencoded',\n      },\n    }\n    const data = 'grant_type=client_credentials'\n    axios\n      .post('https://accounts.spotify.com/api/token', data, config)\n      .then(function (response) {\n        if (response.data) {\n          const token = response.data.access_token\n          setToken(token)\n          axios.defaults.headers.common['Authorization'] = 'Bearer ' + token\n        }\n      })\n      .catch(function (error) {\n        console.log(error)\n      })\n  }, [])\n\n  return (\n    <div>\n      <Header />\n      {screen === screens.search && (\n        <Search\n          setScreen={setScreen}\n          selectedItem={selectedItem}\n          setSelectedItem={setSelectedItem}\n          setSelectedAlbums={setSelectedAlbums}\n        />\n      )}\n      {screen === screens.album_picker && (\n        <AlbumPicker\n          setScreen={setScreen}\n          selectedItem={selectedItem}\n          setAlbums={setAlbums}\n          albums={albums}\n          selectedAlbums={selectedAlbums}\n          setSelectedAlbums={setSelectedAlbums}\n        />\n      )}\n      {screen === screens.ranker && (\n        <Ranker\n          setScreen={setScreen}\n          selectedItem={selectedItem}\n          songs={songs}\n          albums={selectedAlbums}\n          setSongs={setSongs}\n          rankedList={rankedList}\n          setRankedList={setRankedList}\n        />\n      )}\n      {screen === screens.results && (\n        <Results\n          rankedList={rankedList}\n          token={userToken}\n          setToken={setUserToken}\n          restart={restart}\n        />\n      )}\n    </div>\n  )\n}\n\nexport default Home\n","import axios from 'axios'\nimport React, { useEffect } from 'react'\nimport styled from 'styled-components'\nimport { PrimaryButton, Subheader, Text } from '../Base'\n\nconst AlbumPicker = ({\n  setScreen,\n  selectedItem,\n  setAlbums,\n  albums,\n  selectedAlbums,\n  setSelectedAlbums,\n}) => {\n  useEffect(() => {\n    axios\n      .get(`/v1/artists/${selectedItem.id}/albums?market=US&include_groups=album&limit=50`)\n      .then((result) => {\n        setAlbums(result.data.items)\n      })\n      .catch((error) => console.log(error))\n  }, [setAlbums, selectedItem])\n\n  const toggleSelected = (a) => {\n    setSelectedAlbums((prevState) => {\n      const newState = [...prevState]\n      if (newState.some((n) => n === a)) {\n        newState.splice(newState.indexOf(a), 1)\n      } else {\n        newState.push(a)\n      }\n      return newState\n    })\n  }\n\n  const onNext = () => {\n    setScreen('ranker')\n  }\n\n  return (\n    <Container>\n      <Subheader>\n        Select which albums to include\n        <br /> in your ranking\n      </Subheader>\n      <WarningText>\n        For best results, select at most one version of each album to avoid duplicate songs\n      </WarningText>\n      {albums.length && (\n        <div>\n          {albums.map((a, idx) => (\n            <ResultItem\n              onClick={() => toggleSelected(a)}\n              key={idx}\n              selected={selectedAlbums.includes(a) ? true : false}\n            >\n              {a.images[0] ? <ResultImage src={a.images[0].url} /> : <WhiteCircle />}\n              <Text>{a.name}</Text>\n            </ResultItem>\n          ))}\n        </div>\n      )}\n      {selectedAlbums.length ? (\n        <PrimaryButton onClick={onNext} block>\n          BEGIN RANKING\n        </PrimaryButton>\n      ) : null}\n    </Container>\n  )\n}\n\nconst WarningText = styled(Text)`\n  color: ${(props) => props.theme.lightBlue};\n  font-size: 14px;\n`\n\nconst Container = styled.div`\n  padding: 16px;\n  padding-top: 70px;\n  padding-bottom: 32px;\n`\n\nconst ResultImage = styled.img`\n  height: 40px;\n  width: 40px;\n  margin-right: 2ch;\n`\n\nconst WhiteCircle = styled.span`\n  border-radius: 50%;\n  height: 40px;\n  width: 40px;\n  margin-right: 2ch;\n  background-color: white;\n`\n\nconst ResultItem = styled.div`\n  display: flex;\n  align-items: center;\n  height: 56px;\n  margin-bottom: 1ch;\n  border-radius: 10px;\n  padding: ${(props) => (props.selected ? '1ch' : '0')} 2ch;\n  background-color: ${(props) =>\n    props.selected ? props.theme.darkestGray : props.theme.background};\n`\n\nexport default AlbumPicker\n","import React from 'react'\nimport styled from 'styled-components'\nconst Logo = require('../images/logo.svg')\n\nconst FixedHeader = styled.div`\n  position: absolute;\n  background-color: ${(props) => props.theme.darkestGray};\n  width: 100%;\n  height: 52px;\n  padding-left: 16px;\n  padding-top: 16px;\n  box-sizing: border-box;\n  top: 0;\n`\n\nconst Header = () => {\n  return (\n    <FixedHeader onClick={() => window.location.reload()}>\n      <img src={Logo} alt=\"Rankify Logo\" />\n    </FixedHeader>\n  )\n}\n\nexport default Header\n","import React, { useState, useEffect } from 'react'\nimport styled from 'styled-components'\nimport { Subheader, SpotifyButton, SecondaryButton, PrimaryButton, Text } from '../Base'\nimport axios from 'axios'\n\nexport const authEndpoint = 'https://accounts.spotify.com/authorize'\nconst redirectUri = 'https://katherinepeterson.github.io/rankify/'\nconst scopes = [\n  'user-read-currently-playing',\n  'user-read-playback-state',\n  'streaming',\n  'user-top-read',\n  'user-library-read',\n  'playlist-read-private',\n  'playlist-modify-private',\n  'playlist-modify-public',\n  'user-read-email',\n  'user-read-private',\n]\n\nconst hash = window.location.hash\n  .substring(1)\n  .split('&')\n  .reduce(function (initial, item) {\n    if (item) {\n      var parts = item.split('=')\n      initial[parts[0]] = decodeURIComponent(parts[1])\n    }\n    return initial\n  }, {})\nwindow.location.hash = ''\n\nconst Results = ({ rankedList, token, setToken, restart }) => {\n  const [playlistUrl, setPlaylistUrl] = useState(null)\n\n  useEffect(() => {\n    let _token = hash.access_token\n    if (_token) {\n      setToken(_token)\n    }\n  }, [token, setToken])\n\n  const createPlaylist = () => {\n    axios\n      .get('/v1/me', {\n        headers: {\n          Authorization: 'Bearer ' + token,\n        },\n      })\n      .then((response) => {\n        const userSpotifyId = response.data.id\n        axios\n          .post(\n            `/v1/users/${userSpotifyId}/playlists`,\n            { name: 'Rankify Results' },\n            { headers: { Authorization: 'Bearer ' + token } }\n          )\n          .then((response) => {\n            setPlaylistUrl(response.data.external_urls.spotify)\n            const playlistId = response.data.id\n            axios\n              .post(\n                `/v1/playlists/${playlistId}/tracks`,\n                { uris: rankedList.map((s) => s.uri) },\n                { headers: { Authorization: 'Bearer ' + token } }\n              )\n              .catch((err) => console.log(err))\n          })\n          .catch((err) => console.log(err))\n      })\n      .catch((err) => console.log(err))\n  }\n\n  if (rankedList.length) {\n    return (\n      <Container>\n        {!token ? (\n          <LoginContainer>\n            <InstructionText>\n              Log in with Spotify to save your ranking to a playlist\n            </InstructionText>\n            <SpotifyButton\n              onClick={() =>\n                (window.location.href = `${authEndpoint}?client_id=f170a7aa1b8e4e11ae2e80cbbc695b31&redirect_uri=${redirectUri}&scope=${scopes.join(\n                  '%20'\n                )}&response_type=token&show_dialog=true`)\n              }\n            >\n              LOG IN WITH SPOTIFY\n            </SpotifyButton>\n          </LoginContainer>\n        ) : playlistUrl ? (\n          <LoginContainer>\n            <InstructionText>Playlist created!</InstructionText>\n            <PrimaryButton\n              onClick={() => {\n                window.location.href = `${playlistUrl}`\n              }}\n            >\n              Open Playlist\n            </PrimaryButton>\n          </LoginContainer>\n        ) : (\n          <LoginContainer>\n            <InstructionText>Click below to save your ranking to a playlist</InstructionText>\n            <PrimaryButton onClick={createPlaylist}>Create Spotify Playlist</PrimaryButton>\n          </LoginContainer>\n        )}\n        <HeadingContainer>\n          <Subheader style={{ margin: 0 }}>Your Ranking</Subheader>\n          <StartOverButton onClick={restart}>START OVER</StartOverButton>\n        </HeadingContainer>\n        {rankedList.map((song, idx) => (\n          <ResultItemContainer key={idx}>\n            <RankText>#{idx + 1}</RankText>\n            <ResultItem key={idx}>\n              {song.image_url ? <ResultImage src={song.image_url} /> : <WhiteCircle />}\n              <div>\n                <TitleText>{song.name}</TitleText>\n                <ArtistText>{song.artists[0].name}</ArtistText>\n              </div>\n            </ResultItem>\n          </ResultItemContainer>\n        ))}\n      </Container>\n    )\n  } else {\n    return null\n  }\n}\n\nconst Container = styled.div`\n  padding: 16px;\n  padding-top: 70px;\n`\n\nconst ResultItemContainer = styled.div`\n  display: flex;\n  align-items: center;\n`\n\nconst RankText = styled.p`\n  font-size: 16px;\n  line-height: 18px;\n  color: #ffffff;\n`\n\nconst ResultImage = styled.img`\n  height: 40px;\n  width: 40px;\n  margin-right: 2ch;\n`\n\nconst WhiteCircle = styled.span`\n  border-radius: 50%;\n  height: 40px;\n  width: 40px;\n  margin-right: 2ch;\n  background-color: white;\n`\n\nconst ResultItem = styled.div`\n  display: flex;\n  align-items: center;\n  height: 56px;\n  margin-bottom: 1ch;\n  border-radius: 10px;\n  padding: ${(props) => (props.selected ? '1ch' : '0')} 2ch;\n`\n\nconst TitleText = styled.p`\n  font-style: normal;\n  font-weight: bold;\n  font-size: 13px;\n  color: white;\n  margin-bottom: 0px;\n`\n\nconst ArtistText = styled.p`\n  font-style: italic;\n  font-weight: normal;\n  font-size: 12px;\n  color: #8d9193;\n  margin-top: 0.5em;\n`\n\nconst LoginContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`\n\nconst InstructionText = styled.p`\n  font-size: 14px;\n  color: white;\n`\nconst HeadingContainer = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-bottom: 16px;\n  margin-top: 32px;\n`\n\nconst StartOverButton = styled(SecondaryButton)`\n  position: absolute;\n  top: 10px;\n  right: 10px;\n  font-size: 12px;\n  padding: 8px 32px;\n  color: ${(props) => props.theme.background};\n`\nexport default Results\n","import axios from 'axios'\nimport React, { useState } from 'react'\nimport styled from 'styled-components'\nimport { PrimaryButton, Subheader, Text } from '../Base'\n\nconst DownIcon = require('../images/down.svg')\nconst MagnifyingGlassIcon = require('../images/magnify.svg')\n\nvar timerId\n\nconst searchTypes = ['artist', 'album']\n\nconst Search = ({ setScreen, selectedItem, setSelectedItem, setSelectedAlbums }) => {\n  //artist or album\n  const [searchType, setSearchType] = useState(searchTypes[0])\n  const [showDropdown, setShowDropdown] = useState(false)\n  const [searchText, setSearchText] = useState('')\n  const [searchResults, setSearchResults] = useState(null)\n\n  const getSearchResults = () => {\n    axios.get(`/v1/search?q=${searchText}&type=${searchType}&limit=5`).then((response) => {\n      setSearchResults(response.data[searchType + 's'].items)\n    })\n  }\n\n  const onChange = (ev) => {\n    setSearchText(ev.target.value)\n    debounceFunction(getSearchResults, 300)\n  }\n\n  const debounceFunction = (func, delay) => {\n    clearTimeout(timerId)\n    timerId = setTimeout(func, delay)\n  }\n\n  const toggleShowDropdown = (ev) => {\n    setShowDropdown((prev) => !prev)\n    ev.stopPropagation()\n  }\n\n  const nextScreen = () => {\n    if (searchType === 'album') {\n      setSelectedAlbums([selectedItem])\n      setScreen('ranker')\n    } else {\n      setScreen('album_picker')\n    }\n  }\n\n  return (\n    <Container onClick={() => setShowDropdown(false)}>\n      <Subheader>\n        Search for an Artist, Album, or\n        <br /> Playlist to begin ranking songs\n      </Subheader>\n      <SearchContainer>\n        <Dropdown onClick={(ev) => toggleShowDropdown(ev)}>\n          <Subheader>{searchType.charAt(0).toUpperCase() + searchType.slice(1)}</Subheader>\n          <Down src={DownIcon} />\n        </Dropdown>\n        <SearchBarContainer>\n          <SearchBar\n            type=\"text\"\n            value={searchText}\n            onChange={(ev) => {\n              onChange(ev)\n            }}\n          />\n          <Magnify src={MagnifyingGlassIcon} />\n        </SearchBarContainer>\n      </SearchContainer>\n      {showDropdown && (\n        <DropdownOptions>\n          {searchTypes.map((s, idx) => (\n            <DropdownOption\n              key={idx}\n              onClick={() => {\n                setSearchType(s)\n                setSearchResults(null)\n                setSelectedItem(null)\n                setSearchText('')\n              }}\n              selected={searchType === s ? true : false}\n            >\n              {s.charAt(0).toUpperCase() + s.slice(1)}\n            </DropdownOption>\n          ))}\n        </DropdownOptions>\n      )}\n      {searchResults && (\n        <div>\n          {searchResults.map((item, idx) => (\n            <ResultItem\n              onClick={() => setSelectedItem(item)}\n              key={idx}\n              selected={selectedItem === item ? true : false}\n            >\n              {item.images[0] ? (\n                <ResultImage src={item.images[0].url} type={searchType} />\n              ) : (\n                <WhiteCircle />\n              )}\n              <Text>{item.name}</Text>\n            </ResultItem>\n          ))}\n        </div>\n      )}\n      {selectedItem && (\n        <PrimaryButton onClick={nextScreen} style={{ marginTop: '10px' }} block>\n          {searchType === 'album' ? 'BEGIN RANKING' : 'NEXT'}\n        </PrimaryButton>\n      )}\n    </Container>\n  )\n}\n\nconst Container = styled.div`\n  padding: 16px;\n  padding-top: 70px;\n`\n\nconst SearchContainer = styled.div`\n  display: flex;\n  align-items: center;\n  width: 100%;\n`\n\nconst SearchBarContainer = styled.div`\n  position: relative;\n  height: 30px;\n  flex-grow: 1;\n  margin-left: 12px;\n`\n\nconst SearchBar = styled.input`\n  font-size: 16px;\n  border-radius: 15px;\n  border: 1px #000 solid;\n  padding: 5px 5px 5px 36px;\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 5;\n  width: 100%;\n  box-sizing: border-box;\n\n  &:focus {\n    outline: none;\n  }\n`\n\nconst Magnify = styled.img`\n  position: absolute;\n  top: 0px;\n  left: 5px;\n  z-index: 10;\n`\n\nconst Dropdown = styled.div`\n  display: flex;\n`\n\nconst Down = styled.img`\n  margin-left: 0.5ch;\n`\n\nconst DropdownOptions = styled.div`\n  background-color: ${(props) => props.theme.darkestGray};\n  width: 100px;\n  height: 100px;\n  text-align: center;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n`\n\nconst DropdownOption = styled(Text)`\n  background-color: ${(props) => (props.selected ? props.theme.primary : props.theme.darkestGray)};\n  margin: 0;\n  padding-top: 16px;\n  padding-bottom: 16px;\n`\n\nconst ResultImage = styled.img`\n  border-radius: ${(props) => (props.type === 'artist' ? '50%' : null)};\n  height: 40px;\n  width: 40px;\n  margin-right: 2ch;\n`\n\nconst WhiteCircle = styled.span`\n  border-radius: 50%;\n  height: 40px;\n  width: 40px;\n  margin-right: 2ch;\n  background-color: white;\n`\n\nconst ResultItem = styled.div`\n  display: flex;\n  align-items: center;\n  height: 56px;\n  margin-bottom: 1ch;\n  border-radius: 10px;\n  padding: ${(props) => (props.selected ? '1ch' : '0')} 2ch;\n  background-color: ${(props) =>\n    props.selected ? props.theme.darkestGray : props.theme.background};\n`\n\nexport default Search\n","class Prioritizer {\n  constructor(items, update) {\n    this.items = items\n    this.ranked = [this.items[0]]\n    this.current = 1\n    this.middle = 0\n    this.min = 0\n    this.max = 1\n    this.done = false\n    this.update = update\n  }\n\n  promptUser() {\n    this.update((n) => !n)\n  }\n\n  setMiddle() {\n    this.middle = Math.floor((this.min + this.max) / 2)\n  }\n\n  insertItem(item, index) {\n    this.ranked.splice(index, 0, item)\n  }\n\n  onClickCurrent() {\n    this.min = this.middle + 1\n    if (this.min === this.max) {\n      this.insertItem(this.items[this.current], this.min)\n      if (this.ranked.length === this.items.length) {\n        this.done = true\n        this.promptUser()\n        return\n      }\n      this.current++\n      this.min = 0\n      this.max = this.ranked.length\n    }\n    this.setMiddle()\n    this.promptUser()\n  }\n\n  onClickMiddle() {\n    this.max = this.middle\n    if (this.min === this.max || this.min === -1) {\n      this.insertItem(this.items[this.current], this.max)\n      if (this.ranked.length === this.items.length) {\n        this.done = true\n        this.promptUser()\n        return\n      }\n      this.current++\n      this.min = 0\n      this.max = this.ranked.length\n    }\n    this.setMiddle()\n    this.promptUser()\n  }\n}\n\nexport default Prioritizer\n","import axios from 'axios'\nimport React, { useEffect, useRef, useState } from 'react'\nimport styled from 'styled-components'\nimport { Text } from '../Base'\nimport Prioritizer from '../utils/prioritizer'\n\nconst Ranker = ({ setScreen, songs, setSongs, albums, setRankedList, rankedList }) => {\n  const leftOption = useRef(null)\n  const rightOption = useRef(null)\n  const [prioritizer, setPrioritizer] = useState(null)\n  const [, forceUpdate] = React.useState(0)\n\n  useEffect(() => {\n    let albumIds = ''\n    albums.forEach((a, idx) => {\n      if (idx !== 0) {\n        albumIds += ','\n      }\n      albumIds += a.id\n    })\n    axios\n      .get(`/v1/albums?ids=${albumIds}&market=US`)\n      .then((result) => {\n        let songList = []\n        result.data.albums.forEach((album) => {\n          let tracks = album.tracks.items.map((i) => ({ ...i, image_url: album.images[0]?.url }))\n          songList = [...songList, ...tracks]\n        })\n        const shuffledSongList = songList\n          .map((a) => ({ sort: Math.random(), value: a }))\n          .sort((a, b) => a.sort - b.sort)\n          .map((a) => a.value)\n        setSongs(shuffledSongList)\n      })\n      .catch((error) => console.log(error))\n  }, [setSongs, albums])\n\n  useEffect(() => {\n    if (prioritizer == null && songs.length) {\n      const items = [...songs]\n      setPrioritizer(new Prioritizer(items, forceUpdate))\n    }\n  }, [songs, prioritizer])\n\n  useEffect(() => {\n    if (leftOption.current && rightOption.current) {\n      leftOption.current.style.pointerEvents = 'auto'\n      rightOption.current.style.pointerEvents = 'auto'\n    }\n    if (prioritizer?.done) {\n      const list = []\n      for (let i = prioritizer?.ranked.length - 1; i >= 0; i--) {\n        list.push(prioritizer?.ranked[i])\n      }\n      setRankedList(list)\n    }\n  })\n\n  useEffect(() => {\n    if (prioritizer?.done) {\n      setScreen('results')\n    }\n  }, [rankedList, prioritizer, setScreen])\n\n  console.log(\n    'prioritizer?.ranked :>> ',\n    JSON.stringify(\n      prioritizer?.ranked.map((r) => r.name),\n      0,\n      4\n    )\n  )\n  const leftSong = prioritizer?.items[prioritizer?.current]\n  const rightSong = prioritizer?.ranked[prioritizer?.middle]\n  return (\n    <Container>\n      <Heading>Choose a song</Heading>\n      {songs.length && (\n        <Options>\n          <Option\n            ref={leftOption}\n            onClick={() => {\n              leftOption.current.style.pointerEvents = 'none'\n              rightOption.current.style.pointerEvents = 'none'\n              prioritizer.onClickCurrent()\n            }}\n          >\n            <AlbumArtwork src={leftSong?.image_url} />\n            <TitleText>{leftSong?.name}</TitleText>\n            <ArtistText>{leftSong?.artists[0].name}</ArtistText>\n          </Option>\n          <OrText>OR</OrText>\n          <Option\n            ref={rightOption}\n            onClick={() => {\n              leftOption.current.style.pointerEvents = 'none'\n              rightOption.current.style.pointerEvents = 'none'\n              prioritizer.onClickMiddle()\n            }}\n          >\n            <AlbumArtwork src={rightSong?.image_url} />\n            <TitleText>{rightSong?.name}</TitleText>\n            <ArtistText>{rightSong?.artists[0].name}</ArtistText>\n          </Option>\n        </Options>\n      )}\n    </Container>\n  )\n}\n\nconst Container = styled.div`\n  padding: 16px;\n  padding-top: 70px;\n`\n\nconst Heading = styled.p`\n  font-weight: bold;\n  font-size: 24px;\n  margin-top: 80px;\n  margin-bottom: 80px;\n  color: white;\n`\n\nconst OrText = styled(Text)`\n  transform: translateY(60px);\n`\n\nconst AlbumArtwork = styled.img`\n  height: 136px;\n  width: 136px;\n`\n\nconst Options = styled.div`\n  display: flex;\n  justify-content: space-between;\n  max-width: 400px;\n`\n\nconst Option = styled.div`\n  max-width: 136px;\n`\n\nconst TitleText = styled.p`\n  font-style: normal;\n  font-weight: bold;\n  font-size: 13px;\n  color: white;\n  margin-bottom: 0px;\n`\n\nconst ArtistText = styled.p`\n  font-style: italic;\n  font-weight: normal;\n  font-size: 12px;\n  color: #8d9193;\n  margin-top: 0.5em;\n`\n\nexport default Ranker\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { ThemeProvider } from 'styled-components'\nimport Home from './Home'\n\nconst theme = {\n  primary: '#4B89AC',\n  lightBlue: '#ACE6F6',\n  background: '#292929',\n  darkestGray: '#1F1F1F',\n  gray100: '#D7DBDC',\n  gray200: '#8D9193',\n  spotifyGreen: '#1DB954',\n}\n\nReactDOM.render(\n  <React.StrictMode>\n    <ThemeProvider theme={theme}>\n      <Home />\n    </ThemeProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n","import styled from 'styled-components'\n\nconst PrimaryButton = styled.button`\n  font-family: Helvetica Neue, Helvetica, Arial, sans-serif;\n  font-weight: 550;\n  letter-spacing: 0.05em;\n  cursor: pointer;\n  border-radius: 40px;\n  padding: 12px 32px;\n  border: 0px;\n  background-color: ${(props) => props.theme.primary};\n  color: white;\n  width: ${(props) => (props.block ? '100%' : null)};\n`\n\nconst SecondaryButton = styled(PrimaryButton)`\n  background-color: white;\n  color: ${(props) => props.theme.primary};\n`\n\nconst SpotifyButton = styled(PrimaryButton)`\n  background-color: ${(props) => props.theme.spotifyGreen};\n`\n\nconst Subheader = styled.p`\n  font-size: 1.1em;\n  color: white;\n  font-weight: bold;\n`\n\nconst Text = styled.p`\n  color: white;\n`\n\nexport { PrimaryButton, SecondaryButton, SpotifyButton, Subheader, Text }\n","module.exports = __webpack_public_path__ + \"static/media/logo.4121971b.svg\";","module.exports = __webpack_public_path__ + \"static/media/down.b4ef9886.svg\";","module.exports = __webpack_public_path__ + \"static/media/magnify.dc035f9e.svg\";"],"sourceRoot":""}